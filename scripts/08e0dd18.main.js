$(document).ready(function(){$('a[href^="#"]').on("click",function(a){a.preventDefault();var b=this.hash,c=$(b);$("html, body").stop().animate({scrollTop:c.offset().top},900,"swing",function(){window.location.hash=b})});var a="span.has-error",b=$("form#subscribe"),c="Please enter a valid email address.",d=($("input#name").val(),"Does your full name really not have a space in it?"),e="Your name is less than one letter? Really?";submit=$('input[type="submit"]'),$("input#email").blur(function(){-1==$(this).val().indexOf("@")||-1==$(this).val().indexOf(".")?($(this).addClass("form-error"),$(this).parent("div.form-group").find(a).html(c),$(b).find(submit).prop("disabled",!0)):($(this).removeClass("form-error"),$(this).parent("div.form-group").find(a).html(""),$(b).find(submit).prop("disabled",!1))}),$("input#name").blur(function(){$(this).val().length<1?($(this).addClass("form-error"),$(this).parent("div.form-group").find(a).html(e),$(b).find(submit).prop("disabled",!0)):-1==$(this).val().indexOf(" ")?($(this).addClass("form-error"),$(this).parent("div.form-group").find(a).html(d),$(b).find(submit).prop("disabled",!0)):($(this).parent("div.form-group").find(a).html(""),$(this).removeClass("form-error"),$(b).find(submit).prop("disabled",!1))}),$("form#subscribe").submit(function(){var a=$(this),b='<div id="success"><h1>Thanks for signing up!</h1><div id="share"><p>Help us spread the word!</p><a class="facebook" target="_blank" onclick="return !window.open(this.href, \'Facebook\', \'width=640,height=300\')" href="https://www.facebook.com/sharer/sharer.php?u=gamerlink.gg"><i class="fa fa-facebook-square"></i></a><a class="twitter" target="_blank" onclick="return !window.open(this.href, \'twitter\', \'width=640,height=300\')" href="https://twitter.com/share?text=GamerLink%20-%20The%20Future%20Of%20Online%20Match%20Making%20@GamerLinkHYPE"><i class="fa fa-twitter-square"></i></a><a href="http://www.reddit.com/submit" onclick="window.location= \'http://www.reddit.com/submit?url=\' '+encodeURIComponent(window.location),c=function(){a.fadeOut(function(){a.html(b).fadeIn()})},d=function(b){a.html("<h3>We were unable to sign you up.</h3><p>If you believe this was a problem, please refresh the page and try again.</p>",status,b),$('input[name="subscribe"]').prop("disabled",!1)},e={url:"/subscribe.php",type:"POST",data:a.serialize(),success:c,error:d};return $("input#email").val().length<1||$("input#name").val().length<1?($(this).append('<span class="has-error">Please fill in both your full name and email address so we can contact you when we launch the GamerLink Alpha.</span>'),$('input[name="subscribe"]').prop("disabled",!0),!1):($.ajax(e),$(this).remove(".has-error"),$('input[name="subscribe"]').prop("disabled",!0),!1)})}),FSS={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"},FSS.Array="function"==typeof Float32Array?Float32Array:Array,FSS.Utils={isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)}},function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;b.length>c&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),Math.PIM2=2*Math.PI,Math.PID2=Math.PI/2,Math.randomInRange=function(a,b){return a+(b-a)*Math.random()},Math.clamp=function(a,b,c){return a=Math.max(a,b),a=Math.min(a,c)},FSS.Vector3={create:function(a,b,c){var d=new FSS.Array(3);return this.set(d,a,b,c),d},clone:function(a){var b=this.create();return this.copy(b,a),b},set:function(a,b,c,d){return a[0]=b||0,a[1]=c||0,a[2]=d||0,this},setX:function(a,b){return a[0]=b||0,this},setY:function(a,b){return a[1]=b||0,this},setZ:function(a,b){return a[2]=b||0,this},copy:function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],this},add:function(a,b){return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],this},addVectors:function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],this},addScalar:function(a,b){return a[0]+=b,a[1]+=b,a[2]+=b,this},subtract:function(a,b){return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],this},subtractVectors:function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],this},subtractScalar:function(a,b){return a[0]-=b,a[1]-=b,a[2]-=b,this},multiply:function(a,b){return a[0]*=b[0],a[1]*=b[1],a[2]*=b[2],this},multiplyVectors:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],this},multiplyScalar:function(a,b){return a[0]*=b,a[1]*=b,a[2]*=b,this},divide:function(a,b){return a[0]/=b[0],a[1]/=b[1],a[2]/=b[2],this},divideVectors:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],this},divideScalar:function(a,b){return 0!==b?(a[0]/=b,a[1]/=b,a[2]/=b):(a[0]=0,a[1]=0,a[2]=0),this},cross:function(a,b){var c=a[0],d=a[1],e=a[2];return a[0]=d*b[2]-e*b[1],a[1]=e*b[0]-c*b[2],a[2]=c*b[1]-d*b[0],this},crossVectors:function(a,b,c){return a[0]=b[1]*c[2]-b[2]*c[1],a[1]=b[2]*c[0]-b[0]*c[2],a[2]=b[0]*c[1]-b[1]*c[0],this},min:function(a,b){return b>a[0]&&(a[0]=b),b>a[1]&&(a[1]=b),b>a[2]&&(a[2]=b),this},max:function(a,b){return a[0]>b&&(a[0]=b),a[1]>b&&(a[1]=b),a[2]>b&&(a[2]=b),this},clamp:function(a,b,c){return this.min(a,b),this.max(a,c),this},limit:function(a,b,c){var d=this.length(a);return null!==b&&b>d?this.setLength(a,b):null!==c&&d>c&&this.setLength(a,c),this},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},normalise:function(a){return this.divideScalar(a,this.length(a))},negate:function(a){return this.multiplyScalar(a,-1)},distanceSquared:function(a,b){var c=a[0]-b[0],d=a[1]-b[1],e=a[2]-b[2];return c*c+d*d+e*e},distance:function(a,b){return Math.sqrt(this.distanceSquared(a,b))},lengthSquared:function(a){return a[0]*a[0]+a[1]*a[1]+a[2]*a[2]},length:function(a){return Math.sqrt(this.lengthSquared(a))},setLength:function(a,b){var c=this.length(a);return 0!==c&&b!==c&&this.multiplyScalar(a,b/c),this}},FSS.Vector4={create:function(a,b,c){var d=new FSS.Array(4);return this.set(d,a,b,c),d},set:function(a,b,c,d,e){return a[0]=b||0,a[1]=c||0,a[2]=d||0,a[3]=e||0,this},setX:function(a,b){return a[0]=b||0,this},setY:function(a,b){return a[1]=b||0,this},setZ:function(a,b){return a[2]=b||0,this},setW:function(a,b){return a[3]=b||0,this},add:function(a,b){return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],this},multiplyVectors:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],this},multiplyScalar:function(a,b){return a[0]*=b,a[1]*=b,a[2]*=b,a[3]*=b,this},min:function(a,b){return b>a[0]&&(a[0]=b),b>a[1]&&(a[1]=b),b>a[2]&&(a[2]=b),b>a[3]&&(a[3]=b),this},max:function(a,b){return a[0]>b&&(a[0]=b),a[1]>b&&(a[1]=b),a[2]>b&&(a[2]=b),a[3]>b&&(a[3]=b),this},clamp:function(a,b,c){return this.min(a,b),this.max(a,c),this}},FSS.Color=function(a,b){this.rgba=FSS.Vector4.create(),this.hex=a||"#000000",this.opacity=FSS.Utils.isNumber(b)?b:1,this.set(this.hex,this.opacity)},FSS.Color.prototype={set:function(a,b){a=a.replace("#","");var c=a.length/3;return this.rgba[0]=parseInt(a.substring(0*c,1*c),16)/255,this.rgba[1]=parseInt(a.substring(1*c,2*c),16)/255,this.rgba[2]=parseInt(a.substring(2*c,3*c),16)/255,this.rgba[3]=FSS.Utils.isNumber(b)?b:this.rgba[3],this},hexify:function(a){var b=Math.ceil(255*a).toString(16);return 1===b.length&&(b="0"+b),b},format:function(){var a=this.hexify(this.rgba[0]),b=this.hexify(this.rgba[1]),c=this.hexify(this.rgba[2]);return this.hex="#"+a+b+c,this.hex}},FSS.Object=function(){this.position=FSS.Vector3.create()},FSS.Object.prototype={setPosition:function(a,b,c){return FSS.Vector3.set(this.position,a,b,c),this}},FSS.Light=function(a,b){FSS.Object.call(this),this.ambient=new FSS.Color(a||"#FFFFFF"),this.diffuse=new FSS.Color(b||"#FFFFFF"),this.ray=FSS.Vector3.create()},FSS.Light.prototype=Object.create(FSS.Object.prototype),FSS.Vertex=function(a,b,c){this.position=FSS.Vector3.create(a,b,c)},FSS.Vertex.prototype={setPosition:function(a,b,c){return FSS.Vector3.set(this.position,a,b,c),this}},FSS.Triangle=function(a,b,c){this.a=a||new FSS.Vertex,this.b=b||new FSS.Vertex,this.c=c||new FSS.Vertex,this.vertices=[this.a,this.b,this.c],this.u=FSS.Vector3.create(),this.v=FSS.Vector3.create(),this.centroid=FSS.Vector3.create(),this.normal=FSS.Vector3.create(),this.color=new FSS.Color,this.polygon=document.createElementNS(FSS.SVGNS,"polygon"),this.polygon.setAttributeNS(null,"stroke-linejoin","round"),this.polygon.setAttributeNS(null,"stroke-miterlimit","1"),this.polygon.setAttributeNS(null,"stroke-width","1"),this.computeCentroid(),this.computeNormal()},FSS.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],FSS.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return FSS.Vector3.subtractVectors(this.u,this.b.position,this.a.position),FSS.Vector3.subtractVectors(this.v,this.c.position,this.a.position),FSS.Vector3.crossVectors(this.normal,this.u,this.v),FSS.Vector3.normalise(this.normal),this}},FSS.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},FSS.Geometry.prototype={update:function(){if(this.dirty){var a,b;for(a=this.triangles.length-1;a>=0;a--)b=this.triangles[a],b.computeCentroid(),b.computeNormal();this.dirty=!1}return this}},FSS.Plane=function(a,b,c,d){FSS.Geometry.call(this),this.width=a||100,this.height=b||100,this.segments=c||4,this.slices=d||4,this.segmentWidth=this.width/this.segments,this.sliceHeight=this.height/this.slices;var e,f,g,h,i,j,k,l=[],m=this.width*-.5,n=.5*this.height;for(e=0;this.segments>=e;e++)for(l.push([]),f=0;this.slices>=f;f++)k=new FSS.Vertex(m+e*this.segmentWidth,n-f*this.sliceHeight),l[e].push(k),this.vertices.push(k);for(e=0;this.segments>e;e++)for(f=0;this.slices>f;f++)g=l[e+0][f+0],h=l[e+0][f+1],i=l[e+1][f+0],j=l[e+1][f+1],t0=new FSS.Triangle(g,h,i),t1=new FSS.Triangle(i,h,j),this.triangles.push(t0,t1)},FSS.Plane.prototype=Object.create(FSS.Geometry.prototype),FSS.Material=function(a,b){this.ambient=new FSS.Color(a||"#444444"),this.diffuse=new FSS.Color(b||"#FFFFFF"),this.slave=new FSS.Color},FSS.Mesh=function(a,b){FSS.Object.call(this),this.geometry=a||new FSS.Geometry,this.material=b||new FSS.Material,this.side=FSS.FRONT,this.visible=!0},FSS.Mesh.prototype=Object.create(FSS.Object.prototype),FSS.Mesh.prototype.update=function(a,b){var c,d,e,f,g;if(this.geometry.update(),b)for(c=this.geometry.triangles.length-1;c>=0;c--){for(d=this.geometry.triangles[c],FSS.Vector4.set(d.color.rgba),e=a.length-1;e>=0;e--)f=a[e],FSS.Vector3.subtractVectors(f.ray,f.position,d.centroid),FSS.Vector3.normalise(f.ray),g=FSS.Vector3.dot(d.normal,f.ray),this.side===FSS.FRONT?g=Math.max(g,0):this.side===FSS.BACK?g=Math.abs(Math.min(g,0)):this.side===FSS.DOUBLE&&(g=Math.max(Math.abs(g),0)),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,f.ambient.rgba),FSS.Vector4.add(d.color.rgba,this.material.slave.rgba),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,f.diffuse.rgba),FSS.Vector4.multiplyScalar(this.material.slave.rgba,g),FSS.Vector4.add(d.color.rgba,this.material.slave.rgba);FSS.Vector4.clamp(d.color.rgba,0,1)}return this},FSS.Scene=function(){this.meshes=[],this.lights=[]},FSS.Scene.prototype={add:function(a){return a instanceof FSS.Mesh&&!~this.meshes.indexOf(a)?this.meshes.push(a):a instanceof FSS.Light&&!~this.lights.indexOf(a)&&this.lights.push(a),this},remove:function(a){return a instanceof FSS.Mesh&&~this.meshes.indexOf(a)?this.meshes.splice(this.meshes.indexOf(a),1):a instanceof FSS.Light&&~this.lights.indexOf(a)&&this.lights.splice(this.lights.indexOf(a),1),this}},FSS.Renderer=function(){this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0},FSS.Renderer.prototype={setSize:function(a,b){return this.width!==a||this.height!==b?(this.width=a,this.height=b,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this):void 0},clear:function(){return this},render:function(){return this}},FSS.CanvasRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.context=this.element.getContext("2d"),this.setSize(this.element.width,this.element.height)},FSS.CanvasRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.CanvasRenderer.prototype.setSize=function(a,b){return FSS.Renderer.prototype.setSize.call(this,a,b),this.element.width=a,this.element.height=b,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},FSS.CanvasRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},FSS.CanvasRenderer.prototype.render=function(a){FSS.Renderer.prototype.render.call(this,a);var b,c,d,e,f;for(this.clear(),this.context.lineJoin="round",this.context.lineWidth=1,b=a.meshes.length-1;b>=0;b--)if(c=a.meshes[b],c.visible)for(c.update(a.lights,!0),d=c.geometry.triangles.length-1;d>=0;d--)e=c.geometry.triangles[d],f=e.color.format(),this.context.beginPath(),this.context.moveTo(e.a.position[0],e.a.position[1]),this.context.lineTo(e.b.position[0],e.b.position[1]),this.context.lineTo(e.c.position[0],e.c.position[1]),this.context.closePath(),this.context.strokeStyle=f,this.context.fillStyle=f,this.context.stroke(),this.context.fill();return this},FSS.WebGLRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.vertices=null,this.lights=null;var a={preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0,stencil:!0,alpha:!0};return this.gl=this.getContext(this.element,a),this.unsupported=!this.gl,this.unsupported?"WebGL is not supported by your browser.":(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),void this.setSize(this.element.width,this.element.height))},FSS.WebGLRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.WebGLRenderer.prototype.getContext=function(a,b){var c=!1;try{if(!(c=a.getContext("experimental-webgl",b)))throw"Error creating WebGL context."}catch(d){console.error(d)}return c},FSS.WebGLRenderer.prototype.setSize=function(a,b){return FSS.Renderer.prototype.setSize.call(this,a,b),this.unsupported?void 0:(this.element.width=a,this.element.height=b,this.gl.viewport(0,0,a,b),this)},FSS.WebGLRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.unsupported?void 0:(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this)},FSS.WebGLRenderer.prototype.render=function(a){if(FSS.Renderer.prototype.render.call(this,a),!this.unsupported){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=!1,r=a.lights.length,s=0;if(this.clear(),this.lights!==r){if(this.lights=r,!(this.lights>0))return;this.buildProgram(r)}if(this.program){for(b=a.meshes.length-1;b>=0;b--)c=a.meshes[b],c.geometry.dirty&&(q=!0),c.update(a.lights,!1),s+=3*c.geometry.triangles.length;if(q||this.vertices!==s){this.vertices=s;for(i in this.program.attributes){for(k=this.program.attributes[i],k.data=new FSS.Array(s*k.size),n=0,b=a.meshes.length-1;b>=0;b--)for(c=a.meshes[b],d=0,e=c.geometry.triangles.length;e>d;d++)for(f=c.geometry.triangles[d],o=0,p=f.vertices.length;p>o;o++){switch(vertex=f.vertices[o],i){case"side":this.setBufferData(n,k,c.side);break;case"position":this.setBufferData(n,k,vertex.position);break;case"centroid":this.setBufferData(n,k,f.centroid);break;case"normal":this.setBufferData(n,k,f.normal);break;case"ambient":this.setBufferData(n,k,c.material.ambient.rgba);break;case"diffuse":this.setBufferData(n,k,c.material.diffuse.rgba)}n++}this.gl.bindBuffer(this.gl.ARRAY_BUFFER,k.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,k.data,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(k.location),this.gl.vertexAttribPointer(k.location,k.size,this.gl.FLOAT,!1,0,0)}}for(this.setBufferData(0,this.program.uniforms.resolution,[this.width,this.height,this.width]),g=r-1;g>=0;g--)h=a.lights[g],this.setBufferData(g,this.program.uniforms.lightPosition,h.position),this.setBufferData(g,this.program.uniforms.lightAmbient,h.ambient.rgba),this.setBufferData(g,this.program.uniforms.lightDiffuse,h.diffuse.rgba);for(j in this.program.uniforms)switch(k=this.program.uniforms[j],m=k.location,l=k.data,k.structure){case"3f":this.gl.uniform3f(m,l[0],l[1],l[2]);break;case"3fv":this.gl.uniform3fv(m,l);break;case"4fv":this.gl.uniform4fv(m,l)}}return this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices),this}},FSS.WebGLRenderer.prototype.setBufferData=function(a,b,c){if(FSS.Utils.isNumber(c))b.data[a*b.size]=c;else for(var d=c.length-1;d>=0;d--)b.data[a*b.size+d]=c[d]},FSS.WebGLRenderer.prototype.buildProgram=function(a){if(!this.unsupported){var b=FSS.WebGLRenderer.VS(a),c=FSS.WebGLRenderer.FS(a),d=b+c;if(!this.program||this.program.code!==d){var e=this.gl.createProgram(),f=this.buildShader(this.gl.VERTEX_SHADER,b),g=this.buildShader(this.gl.FRAGMENT_SHADER,c);if(this.gl.attachShader(e,f),this.gl.attachShader(e,g),this.gl.linkProgram(e),!this.gl.getProgramParameter(e,this.gl.LINK_STATUS)){var h=this.gl.getError(),i=this.gl.getProgramParameter(e,this.gl.VALIDATE_STATUS);return console.error("Could not initialise shader.\nVALIDATE_STATUS: "+i+"\nERROR: "+h),null}return this.gl.deleteShader(g),this.gl.deleteShader(f),e.code=d,e.attributes={side:this.buildBuffer(e,"attribute","aSide",1,"f"),position:this.buildBuffer(e,"attribute","aPosition",3,"v3"),centroid:this.buildBuffer(e,"attribute","aCentroid",3,"v3"),normal:this.buildBuffer(e,"attribute","aNormal",3,"v3"),ambient:this.buildBuffer(e,"attribute","aAmbient",4,"v4"),diffuse:this.buildBuffer(e,"attribute","aDiffuse",4,"v4")},e.uniforms={resolution:this.buildBuffer(e,"uniform","uResolution",3,"3f",1),lightPosition:this.buildBuffer(e,"uniform","uLightPosition",3,"3fv",a),lightAmbient:this.buildBuffer(e,"uniform","uLightAmbient",4,"4fv",a),lightDiffuse:this.buildBuffer(e,"uniform","uLightDiffuse",4,"4fv",a)},this.program=e,this.gl.useProgram(this.program),e}}},FSS.WebGLRenderer.prototype.buildShader=function(a,b){if(!this.unsupported){var c=this.gl.createShader(a);return this.gl.shaderSource(c,b),this.gl.compileShader(c),this.gl.getShaderParameter(c,this.gl.COMPILE_STATUS)?c:(console.error(this.gl.getShaderInfoLog(c)),null)}},FSS.WebGLRenderer.prototype.buildBuffer=function(a,b,c,d,e,f){var g={buffer:this.gl.createBuffer(),size:d,structure:e,data:null};switch(b){case"attribute":g.location=this.gl.getAttribLocation(a,c);break;case"uniform":g.location=this.gl.getUniformLocation(a,c)}return f&&(g.data=new FSS.Array(f*d)),g},FSS.WebGLRenderer.VS=function(a){var b=["precision mediump float;","#define LIGHTS "+a,"attribute float aSide;","attribute vec3 aPosition;","attribute vec3 aCentroid;","attribute vec3 aNormal;","attribute vec4 aAmbient;","attribute vec4 aDiffuse;","uniform vec3 uResolution;","uniform vec3 uLightPosition[LIGHTS];","uniform vec4 uLightAmbient[LIGHTS];","uniform vec4 uLightDiffuse[LIGHTS];","varying vec4 vColor;","void main() {","vColor = vec4(0.0);","vec3 position = aPosition / uResolution * 2.0;","for (int i = 0; i < LIGHTS; i++) {","vec3 lightPosition = uLightPosition[i];","vec4 lightAmbient = uLightAmbient[i];","vec4 lightDiffuse = uLightDiffuse[i];","vec3 ray = normalize(lightPosition - aCentroid);","float illuminance = dot(aNormal, ray);","if (aSide == 0.0) {","illuminance = max(illuminance, 0.0);","} else if (aSide == 1.0) {","illuminance = abs(min(illuminance, 0.0));","} else if (aSide == 2.0) {","illuminance = max(abs(illuminance), 0.0);","}","vColor += aAmbient * lightAmbient;","vColor += aDiffuse * lightDiffuse * illuminance;","}","vColor = clamp(vColor, 0.0, 1.0);","gl_Position = vec4(position, 1.0);","}"].join("\n");return b},FSS.WebGLRenderer.FS=function(){var a=["precision mediump float;","varying vec4 vColor;","void main() {","gl_FragColor = vColor;","}"].join("\n");return a},FSS.SVGRenderer=function(){FSS.Renderer.call(this),this.element=document.createElementNS(FSS.SVGNS,"svg"),this.element.setAttribute("xmlns",FSS.SVGNS),this.element.setAttribute("version","1.1"),this.element.style.display="block",this.setSize(300,150)},FSS.SVGRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.SVGRenderer.prototype.setSize=function(a,b){return FSS.Renderer.prototype.setSize.call(this,a,b),this.element.setAttribute("width",a),this.element.setAttribute("height",b),this},FSS.SVGRenderer.prototype.clear=function(){FSS.Renderer.prototype.clear.call(this);for(var a=this.element.childNodes.length-1;a>=0;a--)this.element.removeChild(this.element.childNodes[a]);return this},FSS.SVGRenderer.prototype.render=function(a){FSS.Renderer.prototype.render.call(this,a);var b,c,d,e,f,g;for(b=a.meshes.length-1;b>=0;b--)if(c=a.meshes[b],c.visible)for(c.update(a.lights,!0),d=c.geometry.triangles.length-1;d>=0;d--)e=c.geometry.triangles[d],e.polygon.parentNode!==this.element&&this.element.appendChild(e.polygon),f=this.formatPoint(e.a)+" ",f+=this.formatPoint(e.b)+" ",f+=this.formatPoint(e.c),g=this.formatStyle(e.color.format()),e.polygon.setAttributeNS(null,"points",f),e.polygon.setAttributeNS(null,"style",g);return this},FSS.SVGRenderer.prototype.formatPoint=function(a){return this.halfWidth+a.position[0]+","+(this.halfHeight-a.position[1])},FSS.SVGRenderer.prototype.formatStyle=function(a){var b="fill:"+a+";";return b+="stroke:"+a+";"},$(document).ready(function(){!function(){function a(){b(),d(),e(),f(),k(),g(E.offsetWidth,E.offsetHeight),h()}function b(){s=new FSS.WebGLRenderer,t=new FSS.CanvasRenderer,u=new FSS.SVGRenderer,c(A.renderer)}function c(a){switch(n&&F.removeChild(n.element),a){case x:n=s;break;case y:n=t;break;case z:n=u}n.setSize(E.offsetWidth,E.offsetHeight),F.appendChild(n.element)}function d(){o=new FSS.Scene}function e(){o.remove(p),n.clear(),q=new FSS.Plane(v.width*n.width,v.height*n.height,v.segments,v.slices),r=new FSS.Material(v.ambient,v.diffuse),p=new FSS.Mesh(q,r),o.add(p);var a,b;for(a=q.vertices.length-1;a>=0;a--)b=q.vertices[a],b.anchor=FSS.Vector3.clone(b.position),b.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1)),b.time=Math.randomInRange(0,Math.PIM2)}function f(){var a,b;for(a=o.lights.length-1;a>=0;a--)b=o.lights[a],o.remove(b);for(n.clear(),a=0;a<w.count;a++)b=new FSS.Light(w.ambient,w.diffuse),b.ambientHex=b.ambient.format(),b.diffuseHex=b.diffuse.format(),o.add(b),b.mass=Math.randomInRange(.5,1),b.velocity=FSS.Vector3.create(),b.acceleration=FSS.Vector3.create(),b.force=FSS.Vector3.create()}function g(a,b){n.setSize(a,b),FSS.Vector3.set(C,n.halfWidth,n.halfHeight),e()}function h(){m=Date.now()-B,i(),j(),requestAnimationFrame(h)}function i(){var a,b,c,d,e,f,g,h=v.depth/2;for(FSS.Vector3.copy(w.bounds,C),FSS.Vector3.multiplyScalar(w.bounds,w.xyScalar),FSS.Vector3.setZ(D,w.zOffset),w.autopilot&&(a=Math.sin(w.step[0]*m*w.speed),b=Math.cos(w.step[1]*m*w.speed),FSS.Vector3.set(D,w.bounds[0]*a,w.bounds[1]*b,w.zOffset)),d=o.lights.length-1;d>=0;d--){e=o.lights[d],FSS.Vector3.setZ(e.position,w.zOffset);var i=Math.clamp(FSS.Vector3.distanceSquared(e.position,D),w.minDistance,w.maxDistance),j=w.gravity*e.mass/i;FSS.Vector3.subtractVectors(e.force,D,e.position),FSS.Vector3.normalise(e.force),FSS.Vector3.multiplyScalar(e.force,j),FSS.Vector3.set(e.acceleration),FSS.Vector3.add(e.acceleration,e.force),FSS.Vector3.add(e.velocity,e.acceleration),FSS.Vector3.multiplyScalar(e.velocity,w.dampening),FSS.Vector3.limit(e.velocity,w.minLimit,w.maxLimit),FSS.Vector3.add(e.position,e.velocity)}for(f=q.vertices.length-1;f>=0;f--)g=q.vertices[f],a=Math.sin(g.time+g.step[0]*m*v.speed),b=Math.cos(g.time+g.step[1]*m*v.speed),c=Math.sin(g.time+g.step[2]*m*v.speed),FSS.Vector3.set(g.position,v.xRange*q.segmentWidth*a,v.yRange*q.sliceHeight*b,v.zRange*h*c-h),FSS.Vector3.add(g.position,g.anchor);q.dirty=!0}function j(){if(n.render(o),w.draw){var a,b,c,d;for(a=o.lights.length-1;a>=0;a--)switch(d=o.lights[a],b=d.position[0],c=d.position[1],A.renderer){case y:n.context.lineWidth=.5,n.context.beginPath(),n.context.arc(b,c,10,0,Math.PIM2),n.context.strokeStyle=d.ambientHex,n.context.stroke(),n.context.beginPath(),n.context.arc(b,c,4,0,Math.PIM2),n.context.fillStyle=d.diffuseHex,n.context.fill();break;case z:b+=n.halfWidth,c=n.halfHeight-c,d.core.setAttributeNS(null,"fill",d.diffuseHex),d.core.setAttributeNS(null,"cx",b),d.core.setAttributeNS(null,"cy",c),n.element.appendChild(d.core),d.ring.setAttributeNS(null,"stroke",d.ambientHex),d.ring.setAttributeNS(null,"cx",b),d.ring.setAttributeNS(null,"cy",c),n.element.appendChild(d.ring)}}}function k(){window.addEventListener("resize",l)}function l(){g(E.offsetWidth,E.offsetHeight),j()}if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));else{{var m,n,o,p,q,r,s,t,u,v={width:1.2,height:1.2,depth:0,segments:8,slices:8,xRange:.45,yRange:.45,zRange:1,ambient:"#555555",diffuse:"#FFFFFF",speed:3e-4},w={count:2,xyScalar:1,zOffset:100,ambient:"#000",diffuse:"#161616",speed:.001,gravity:1200,dampening:.95,minLimit:10,maxLimit:null,minDistance:20,maxDistance:400,autopilot:!1,draw:!1,bounds:FSS.Vector3.create(),step:FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1))},x="webgl",y="canvas",z="svg",A={renderer:y},B=Date.now(),C=FSS.Vector3.create(),D=FSS.Vector3.create(),E=document.getElementById("intro"),F=(document.getElementById("controls"),document.getElementById("intro"));document.getElementById("ui")}a()}}()}),!function(a){a.expr[":"].icontains=function(b,c,d){return a(b).text().toUpperCase().indexOf(d[3].toUpperCase())>=0};var b=function(c,d,e){e&&(e.stopPropagation(),e.preventDefault()),this.$element=a(c),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=a.extend({},a.fn.selectpicker.defaults,this.$element.data(),"object"==typeof d&&d),null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=b.prototype.val,this.render=b.prototype.render,this.refresh=b.prototype.refresh,this.setStyle=b.prototype.setStyle,this.selectAll=b.prototype.selectAll,this.deselectAll=b.prototype.deselectAll,this.init()};b.prototype={constructor:b,init:function(){var b=this,c=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),void 0!==c&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(a){a.preventDefault(),b.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this)},createDropdown:function(){var b=this.multiple?" show-tick":"",c=this.$element.parent().hasClass("input-group")?" input-group-btn":"",d=this.autofocus?" autofocus":"",e=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",f=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':"",g=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">Select All</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">Deselect All</button></div></div>':"",h='<div class="btn-group bootstrap-select'+b+c+'"><button type="button" class="btn dropdown-toggle selectpicker" data-toggle="dropdown"'+d+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+e+f+g+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return a(h)},createView:function(){var a=this.createDropdown(),b=this.createLi();return a.find("ul").append(b),a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var b=this,c=[],d="";return this.$element.find("option").each(function(){var d=a(this),e=d.attr("class")||"",f=d.attr("style")||"",g=d.data("content")?d.data("content"):d.html(),h=void 0!==d.data("subtext")?'<small class="muted text-muted">'+d.data("subtext")+"</small>":"",i=void 0!==d.data("icon")?'<i class="'+b.options.iconBase+" "+d.data("icon")+'"></i> ':"";if(""!==i&&(d.is(":disabled")||d.parent().is(":disabled"))&&(i="<span>"+i+"</span>"),d.data("content")||(g=i+'<span class="text">'+g+h+"</span>"),b.options.hideDisabled&&(d.is(":disabled")||d.parent().is(":disabled")))c.push('<a style="min-height: 0; padding: 0"></a>');else if(d.parent().is("optgroup")&&d.data("divider")!==!0)if(0===d.index()){var j=d.parent().attr("label"),k=void 0!==d.parent().data("subtext")?'<small class="muted text-muted">'+d.parent().data("subtext")+"</small>":"",l=d.parent().data("icon")?'<i class="'+d.parent().data("icon")+'"></i> ':"";j=l+'<span class="text">'+j+k+"</span>",c.push(0!==d[0].index?'<div class="div-contain"><div class="divider"></div></div><dt>'+j+"</dt>"+b.createA(g,"opt "+e,f):"<dt>"+j+"</dt>"+b.createA(g,"opt "+e,f))}else c.push(b.createA(g,"opt "+e,f));else c.push(d.data("divider")===!0?'<div class="div-contain"><div class="divider"></div></div>':a(this).data("hidden")===!0?"<a></a>":b.createA(g,e,f))}),a.each(c,function(a,b){var c="<a></a>"===b?'class="hide is-hidden"':"";d+='<li rel="'+a+'"'+c+">"+b+"</li>"}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a(d)},createA:function(a,b,c){return'<a tabindex="0" class="'+b+'" style="'+c+'">'+a+'<i class="'+this.options.iconBase+" "+this.options.tickIcon+' icon-ok check-mark"></i></a>'},render:function(b){var c=this;b!==!1&&this.$element.find("option").each(function(b){c.setDisabled(b,a(this).is(":disabled")||a(this).parent().is(":disabled")),c.setSelected(b,a(this).is(":selected"))}),this.tabIndex();var d=this.$element.find("option:selected").map(function(){var b,d=a(this),e=d.data("icon")&&c.options.showIcon?'<i class="'+c.options.iconBase+" "+d.data("icon")+'"></i> ':"";return b=c.options.showSubtext&&d.attr("data-subtext")&&!c.multiple?' <small class="muted text-muted">'+d.data("subtext")+"</small>":"",d.data("content")&&c.options.showContent?d.data("content"):void 0!==d.attr("title")?d.attr("title"):e+d.html()+b}).toArray(),e=this.multiple?d.join(this.options.multipleSeparator):d[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var f=this.options.selectedTextFormat.split(">"),g=this.options.hideDisabled?":not([disabled])":"";(f.length>1&&d.length>f[1]||1==f.length&&d.length>=2)&&(e=this.options.countSelectedText.replace("{0}",d.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+g).length))}this.options.title=this.$element.attr("title"),e||(e=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",a.trim(e)),this.$newElement.find(".filter-option").html(e)},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""));var c=a?a:this.options.style;"add"==b?this.$button.addClass(c):"remove"==b?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c))
},liHeight:function(){if(this.options.size!==!1){var a=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),b=a.addClass("open").find("> .dropdown-menu"),c=b.find("li > a").outerHeight(),d=this.options.header?b.find(".popover-title").outerHeight():0,e=this.options.liveSearch?b.find(".bootstrap-select-searchbox").outerHeight():0,f=this.options.actionsBox?b.find(".bs-actionsbox").outerHeight():0;a.remove(),this.$newElement.data("liHeight",c).data("headerHeight",d).data("searchHeight",e).data("actionsHeight",f)}},setSize:function(){var b,c,d,e=this,f=this.$menu,g=f.find(".inner"),h=this.$newElement.outerHeight(),i=this.$newElement.data("liHeight"),j=this.$newElement.data("headerHeight"),k=this.$newElement.data("searchHeight"),l=this.$newElement.data("actionsHeight"),m=f.find("li .divider").outerHeight(!0),n=parseInt(f.css("padding-top"))+parseInt(f.css("padding-bottom"))+parseInt(f.css("border-top-width"))+parseInt(f.css("border-bottom-width")),o=this.options.hideDisabled?":not(.disabled)":"",p=a(window),q=n+parseInt(f.css("margin-top"))+parseInt(f.css("margin-bottom"))+2,r=function(){c=e.$newElement.offset().top-p.scrollTop(),d=p.height()-c-h};if(r(),this.options.header&&f.css("padding-top",0),"auto"==this.options.size){var s=function(){var a,h=e.$lis.not(".hide");r(),b=d-q,e.options.dropupAuto&&e.$newElement.toggleClass("dropup",c>d&&b-q<f.height()),e.$newElement.hasClass("dropup")&&(b=c-q),a=h.length+h.find("dt").length>3?3*i+q-2:0,f.css({"max-height":b+"px",overflow:"hidden","min-height":a+j+k+l+"px"}),g.css({"max-height":b-j-k-l-n+"px","overflow-y":"auto","min-height":Math.max(a-n,0)+"px"})};s(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",s),a(window).off("resize.getSize").on("resize.getSize",s),a(window).off("scroll.getSize").on("scroll.getSize",s)}else if(this.options.size&&"auto"!=this.options.size&&f.find("li"+o).length>this.options.size){var t=f.find("li"+o+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),u=f.find("li").slice(0,t+1).find(".div-contain").length;b=i*this.options.size+u*m+n,e.options.dropupAuto&&this.$newElement.toggleClass("dropup",c>d&&b<f.height()),f.css({"max-height":b+j+k+l+"px",overflow:"hidden"}),g.css({"max-height":b-n+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body"),b=a.find("> .dropdown-menu").css("width"),c=a.css("width","auto").find("> button").css("width");a.remove(),this.$newElement.css("width",Math.max(parseInt(b),parseInt(c))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var b,c,d=this,e="<div />",f=a(e),g=function(a){f.addClass(a.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",a.hasClass("dropup")),b=a.offset(),c=a.hasClass("dropup")?0:a[0].offsetHeight,f.css({top:b.top+c,left:b.left,width:a[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){d.isDisabled()||(g(a(this)),f.appendTo(d.options.container),f.toggleClass("open",!a(this).hasClass("open")),f.append(d.$menu))}),a(window).resize(function(){g(d.$newElement)}),a(window).on("scroll",function(){g(d.$newElement)}),a("html").on("click",function(b){a(b.target).closest(d.$newElement).length<1&&f.removeClass("open")})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},setSelected:function(b,c){null==this.$lis&&(this.$lis=this.$menu.find("li")),a(this.$lis[b]).toggleClass("selected",c)},setDisabled:function(b,c){null==this.$lis&&(this.$lis=this.$menu.find("li")),c?a(this.$lis[b]).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):a(this.$lis[b]).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!a.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var b=this;a("body").on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),this.$newElement.on("click",function(){b.setSize(),b.options.liveSearch||b.multiple||setTimeout(function(){b.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(c){var d=a(this).parent().index(),e=b.$element.val(),f=b.$element.prop("selectedIndex");if(b.multiple&&c.stopPropagation(),c.preventDefault(),!b.isDisabled()&&!a(this).parent().hasClass("disabled")){var g=b.$element.find("option"),h=g.eq(d),i=h.prop("selected"),j=h.parent("optgroup"),k=b.options.maxOptions,l=j.data("maxOptions")||!1;if(b.multiple){if(h.prop("selected",!i),b.setSelected(d,!i),k!==!1||l!==!1){var m=k<g.filter(":selected").length,n=l<j.find("option:selected").length,o=b.options.maxOptionsText,p=o[0].replace("{n}",k),q=o[1].replace("{n}",l),r=a('<div class="notify"></div>');(k&&m||l&&n)&&(o[2]&&(p=p.replace("{var}",o[2][k>1?0:1]),q=q.replace("{var}",o[2][l>1?0:1])),h.prop("selected",!1),b.$menu.append(r),k&&m&&(r.append(a("<div>"+p+"</div>")),b.$element.trigger("maxReached.bs.select")),l&&n&&(r.append(a("<div>"+q+"</div>")),b.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){b.setSelected(d,!1)},10),r.delay(750).fadeOut(300,function(){a(this).remove()}))}}else g.prop("selected",!1),h.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(d,!0);b.multiple?b.options.liveSearch&&b.$searchbox.focus():b.$button.focus(),(e!=b.$element.val()&&b.multiple||f!=b.$element.prop("selectedIndex")&&!b.multiple)&&b.$element.change()}}),this.$menu.on("click","li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)",function(a){a.target==this&&(a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus())}),this.$menu.on("click",".popover-title .close",function(){b.$button.focus()}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(c){b.options.liveSearch?b.$searchbox.focus():b.$button.focus(),c.preventDefault(),c.stopPropagation(),a(this).is(".bs-select-all")?b.selectAll():b.deselectAll(),b.$element.change()}),this.$element.change(function(){b.render(!1)})},liveSearchListener:function(){var b=this,c=a('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){b.$menu.find(".active").removeClass("active"),b.$searchbox.val()&&(b.$searchbox.val(""),b.$lis.not(".is-hidden").removeClass("hide"),c.parent().length&&c.remove()),b.multiple||b.$menu.find(".selected").addClass("active"),setTimeout(function(){b.$searchbox.focus()},10)}),this.$searchbox.on("input propertychange",function(){b.$searchbox.val()?(b.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+b.$searchbox.val()+")").parent().addClass("hide"),b.$menu.find("li").filter(":visible:not(.no-results)").length?c.parent().length&&c.remove():(c.parent().length&&c.remove(),c.html(b.options.noneResultsText+' "'+b.$searchbox.val()+'"').show(),b.$menu.find("li").last().after(c))):(b.$lis.not(".is-hidden").removeClass("hide"),c.parent().length&&c.remove()),b.$menu.find("li.active").removeClass("active"),b.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),a(this).focus()}),this.$menu.on("mouseenter","a",function(c){b.$menu.find(".active").removeClass("active"),a(c.currentTarget).parent().not(".disabled").addClass("active")}),this.$menu.on("mouseleave","a",function(){b.$menu.find(".active").removeClass("active")})},val:function(a){return void 0!==a?(this.$element.val(a),this.$element.change(),this.$element):this.$element.val()},selectAll:function(){null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$element.find("option:enabled").prop("selected",!0),a(this.$lis).filter(":not(.disabled)").addClass("selected"),this.render(!1)},deselectAll:function(){null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$element.find("option:enabled").prop("selected",!1),a(this.$lis).filter(":not(.disabled)").removeClass("selected"),this.render(!1)},keydown:function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(c=a(this),e=c.parent(),c.is("input")&&(e=c.parent().parent()),l=e.data("this"),l.options.liveSearch&&(e=c.parent().parent()),l.options.container&&(e=l.$menu),d=a("[role=menu] li:not(.divider) a",e),n=l.$menu.parent().hasClass("open"),!n&&/([0-9]|[A-z])/.test(String.fromCharCode(b.keyCode))&&(l.options.container?l.$newElement.trigger("click"):(l.setSize(),l.$menu.parent().addClass("open"),n=l.$menu.parent().hasClass("open")),l.$searchbox.focus()),l.options.liveSearch&&(/(^9$|27)/.test(b.keyCode)&&n&&0===l.$menu.find(".active").length&&(b.preventDefault(),l.$menu.parent().removeClass("open"),l.$button.focus()),d=a("[role=menu] li:not(.divider):visible",e),c.val()||/(38|40)/.test(b.keyCode)||0===d.filter(".active").length&&(d=l.$newElement.find("li").filter(":icontains("+o[b.keyCode]+")"))),d.length){if(/(38|40)/.test(b.keyCode))f=d.index(d.filter(":focus")),h=d.parent(":not(.disabled):visible").first().index(),i=d.parent(":not(.disabled):visible").last().index(),g=d.eq(f).parent().nextAll(":not(.disabled):visible").eq(0).index(),j=d.eq(f).parent().prevAll(":not(.disabled):visible").eq(0).index(),k=d.eq(g).parent().prevAll(":not(.disabled):visible").eq(0).index(),l.options.liveSearch&&(d.each(function(b){a(this).is(":not(.disabled)")&&a(this).data("index",b)}),f=d.index(d.filter(".active")),h=d.filter(":not(.disabled):visible").first().data("index"),i=d.filter(":not(.disabled):visible").last().data("index"),g=d.eq(f).nextAll(":not(.disabled):visible").eq(0).data("index"),j=d.eq(f).prevAll(":not(.disabled):visible").eq(0).data("index"),k=d.eq(g).prevAll(":not(.disabled):visible").eq(0).data("index")),m=c.data("prevIndex"),38==b.keyCode&&(l.options.liveSearch&&(f-=1),f!=k&&f>j&&(f=j),h>f&&(f=h),f==m&&(f=i)),40==b.keyCode&&(l.options.liveSearch&&(f+=1),-1==f&&(f=0),f!=k&&g>f&&(f=g),f>i&&(f=i),f==m&&(f=h)),c.data("prevIndex",f),l.options.liveSearch?(b.preventDefault(),c.is(".dropdown-toggle")||(d.removeClass("active"),d.eq(f).addClass("active").find("a").focus(),c.focus())):d.eq(f).focus();else if(!c.is("input")){var p,q,r=[];d.each(function(){a(this).parent().is(":not(.disabled)")&&a.trim(a(this).text().toLowerCase()).substring(0,1)==o[b.keyCode]&&r.push(a(this).parent().index())}),p=a(document).data("keycount"),p++,a(document).data("keycount",p),q=a.trim(a(":focus").text().toLowerCase()).substring(0,1),q!=o[b.keyCode]?(p=1,a(document).data("keycount",p)):p>=r.length&&(a(document).data("keycount",0),p>r.length&&(p=1)),d.eq(r[p-1]).focus()}/(13|32|^9$)/.test(b.keyCode)&&n&&(/(32)/.test(b.keyCode)||b.preventDefault(),l.options.liveSearch?/(32)/.test(b.keyCode)||(l.$menu.find(".active a").click(),c.focus()):a(":focus").click(),a(document).data("keycount",0)),(/(^9$|27)/.test(b.keyCode)&&n&&(l.multiple||l.options.liveSearch)||/(27)/.test(b.keyCode)&&!n)&&(l.$menu.parent().removeClass("open"),l.$button.focus())}},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove(),this.$element.remove()}},a.fn.selectpicker=function(c,d){var e,f=arguments,g=this.each(function(){if(a(this).is("select")){var g=a(this),h=g.data("selectpicker"),i="object"==typeof c&&c;if(h){if(i)for(var j in i)h.options[j]=i[j]}else g.data("selectpicker",h=new b(this,i,d));if("string"==typeof c){var k=c;h[k]instanceof Function?([].shift.apply(f),e=h[k].apply(h,f)):e=h.options[k]}}});return void 0!==e?e:g},a.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:"{0} of {1} selected",maxOptionsText:["Limit reached ({n} {var} max)","Group limit reached ({n} {var} max)",["items","item"]],width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,multipleSeparator:", ",iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1},a(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",b.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",function(a){a.stopPropagation()})}(window.jQuery);